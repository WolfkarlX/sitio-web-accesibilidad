<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contacto - Alan Gabriel Vargas Ponce</title>
  <link rel="icon" href="img/ods_6.png"> <!-- Page icon -->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/contacto.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
</head>
<body>
  <div id="page-content"> <!-- Envolvemos el contenido de la page (excepto el panel de accesibilidad) con id "page-content" -->
    <header id="header-static" class="contact-header">
      <div class="header-content">
        <h1>Contacto</h1>
        <p class="header-subtitle">¿Tienes preguntas o comentarios? Escríbeme</p>
      </div>
      <nav class="main-nav">
        <ul>
          <li><a href="index.html"><i class="fas fa-home"></i> Inicio</a></li>
          <li><a href="ods1.html"><i class="fas fa-info-circle"></i> ODS 1</a></li>
          <li><a href="cv.html"><i class="fas fa-user"></i> CV</a></li>
          <li><a href="contacto.html" class="active"><i class="fas fa-envelope"></i> Contacto</a></li>
          <li><a href="recursos.html"><i class="fas fa-book"></i> Recursos</a></li>
        </ul>
      </nav>
    </header>

    <main class="contact-main">
      <div class="contact-container">
        <section class="contact-info">
          <div class="info-card">
            <i class="fas fa-envelope"></i>
            <h3>Correo Electrónico</h3>
            <p>alang@gmail.com</p>
          </div>
          <div class="info-card">
            <i class="fas fa-phone"></i>
            <h3>Teléfono</h3>
            <p>+52 123 456 7890</p>
          </div>
          <div class="info-card">
            <i class="fas fa-map-marker-alt"></i>
            <h3>Ubicación</h3>
            <p>Colima, México</p>
          </div>
        </section>

        <form id="contact-form" class="contact-form" action="https://formspree.io/f/xkgrlyee" method="POST" onsubmit="return validateForm()">
          <h2 class="form-title"><i class="fas fa-paper-plane"></i> Envíame un mensaje</h2>
          
          <div class="form-group">
            <label for="name"><i class="fas fa-user"></i> Nombre completo:</label>
            <input type="text" id="name" name="name" required placeholder="Tu nombre completo" />
          </div>
          
          <div class="form-group">
            <label for="email"><i class="fas fa-at"></i> Correo electrónico:</label>
            <input type="email" id="email" name="_replyto" required placeholder="tu@email.com" />
          </div>
          
          <div class="form-group">
            <label for="message"><i class="fas fa-comment"></i> Mensaje:</label>
            <textarea id="message" name="message" rows="6" required placeholder="Escribe tu mensaje aquí..."></textarea>
          </div>
          
          <div class="form-group">
            <label for="captcha" id="captcha-label"><i class="fas fa-shield-alt"></i> ¿Cuánto es 3 + 4? (Para evitar spam)</label>
            <input type="number" id="captcha" name="captcha" required placeholder="Tu respuesta" />
          </div>

          
          <div class="form-footer">
            <small><i class="fas fa-info-circle"></i> La información enviada será remitida por correo sin cifrado garantizado. Evite enviar datos sensibles.</small>
            <button type="submit" class="submit-btn">
              <i class="fas fa-paper-plane"></i> Enviar Mensaje
            </button>
          </div>
        </form>
      </div>
    </main>

    <footer class="contact-footer">
      <div class="footer-content">
        <p>© 2025 Alan Gabriel Vargas Ponce - Todos los derechos reservados</p>
        <div class="social-links">
          <a href="#" aria-label="GitHub"><i class="fab fa-github"></i></a>
          <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
          <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        </div>
      </div>
    </footer>

    <script src="js/accessibility.js"></script>
    <script>
      function validateForm() {
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const message = document.getElementById('message').value.trim();
        const captcha = document.getElementById('captcha').value.trim();

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!name || !email || !message || !captcha) {
          alert('Por favor, completa todos los campos.');
          return false;
        }
        if (!emailRegex.test(email)) {
          alert('Por favor, ingresa un correo válido.');
          return false;
        }
        if (captcha !== '7') {
          alert('Respuesta incorrecta en la pregunta anti-spam.');
          return false;
        }

        const forbiddenChars = /[{}\[\]<>\"'\/]/;
        if (forbiddenChars.test(name) || forbiddenChars.test(message)) {
          alert('Por favor, no utilices caracteres especiales');
          return false;
        }
        
        // Mostrar mensaje de éxito
        alert('¡Mensaje enviado con éxito! Gracias por contactarme.');
        return true;
      }
    </script>

    <script>
      // Variables globales para los números y la suma correcta
      let num1, num2, correctSum;

      // Función para generar una suma nueva y actualizar el label
      function generateCaptcha() {
        num1 = Math.floor(Math.random() * 10) + 1; // 1 a 10
        num2 = Math.floor(Math.random() * 10) + 1; // 1 a 10
        correctSum = num1 + num2;

        const label = document.getElementById('captcha-label');
        if (label) {
          label.innerHTML = `<i class="fas fa-shield-alt"></i> ¿Cuánto es ${num1} + ${num2}? (Para evitar spam)`;
        }
      }

      // Llama a generateCaptcha cuando cargue la página
      document.addEventListener('DOMContentLoaded', generateCaptcha);

      // Modificar la validación para usar la suma dinámica
      function validateForm() {
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const message = document.getElementById('message').value.trim();
        const captcha = document.getElementById('captcha').value.trim();

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!name || !email || !message || !captcha) {
          alert('Por favor, completa todos los campos.');
          return false;
        }
        if (!emailRegex.test(email)) {
          alert('Por favor, ingresa un correo válido.');
          return false;
        }

        // Validar la respuesta del captcha comparando con correctSum
        if (parseInt(captcha, 10) !== correctSum) {
          alert('Respuesta incorrecta en la pregunta anti-spam.');
          return false;
        }

        const forbiddenChars = /[{}\[\]<>\"'\/]/;
        if (forbiddenChars.test(name) || forbiddenChars.test(message)) {
          alert('Por favor, no utilices caracteres especiales');
          return false;
        }
        
        // Mostrar mensaje de éxito
        alert('¡Mensaje enviado con éxito! Gracias por contactarme.');
        return true;
      }
    </script>

  </div>

  <!-- Accesibilidad -->
  <div id="accessibility-panel" class="accessibility-panel"> <!-- Agarramos el id en ods1.css (es hijo directo de body) -->
    <button id="accessibility-toggle" class="accessibility-toggle" aria-label="Abrir panel de accesibilidad">
      <i class="fas fa-universal-access"></i><br> <!-- Salto de linea -->
      Opciones <!-- Se imprime debajo del icon por el salto de linea -->
    </button>

    <div id="accessibility-controls" class="accessibility-controls" style="display: none;">
      <div class="accessibility-header">
        <h3>Opciones de Accesibilidad</h3>
        <button id="close-accessibility" class="close-btn" aria-label="Cerrar panel">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="accessibility-options">
        <div class="accessibility-group">
          <h4>Tamaño de texto</h4>
          <button onclick="changeFontSize('increase')"><i class="fas fa-text-height"></i> Aumentar</button>
          <button onclick="changeFontSize('decrease')"><i class="fas fa-text-width"></i> Disminuir</button>
          <button onclick="resetFontSize()"><i class="fas fa-undo"></i> Restablecer</button>
        </div>
        
        <div class="accessibility-group">
          <h4>Tipo de fuente</h4>
          <select onchange="changeFontFamily(this.value)">
            <option value="default">Predeterminada</option>
            <option value="times">Times New Roman</option>
            <option value="comic">Comic Sans MS</option>
          </select>
        </div>
        
        <div class="accessibility-group">
          <h4>Visualización</h4>
          <button onclick="toggleDarkMode()"><i class="fas fa-moon"></i> Modo Oscuro</button>
          <button onclick="toggleHighContrast()"><i class="fas fa-adjust"></i> Alto Contraste</button>
          <button onclick="toggleColorBlindFilter()"><i class="fas fa-eye"></i> Filtro Daltonismo</button>
        </div>
        
        <div class="accessibility-group">
          <h4>Opciones avanzadas</h4>
          <button onclick="toggleCursor()"><i class="fas fa-mouse-pointer"></i> Cursor Grande</button>
          <button onclick="toggleImages()"><i class="fas fa-image"></i> Ocultar Imágenes</button>
          <button onclick="toggleLinks()"><i class="fas fa-link"></i> Resaltar Links</button>
        </div>
        
        <div class="accessibility-group">
          <button onclick="resetAccessibility()" class="reset-btn"><i class="fas fa-sync-alt"></i> Restablecer todo</button>
          <button onclick="saveSettings()" class="save-btn"><i class="fas fa-save"></i> Guardar configuración</button>
        </div>
      </div>
    </div>
  </div>

</body>
</html>